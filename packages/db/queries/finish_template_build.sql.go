// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: finish_template_build.sql

package queries

import (
	"context"

	"github.com/google/uuid"
)

const finishTemplateBuild = `-- name: FinishTemplateBuild :exec
UPDATE "public"."env_builds"
SET
    finished_at = NOW(),
    total_disk_size_mb = $1,
    status = 'uploaded',
    envd_version = $2
WHERE
    id = $3
`

type FinishTemplateBuildParams struct {
	TotalDiskSizeMb *int64
	EnvdVersion     *string
	BuildID         uuid.UUID
}

func (q *Queries) FinishTemplateBuild(ctx context.Context, arg FinishTemplateBuildParams) error {
	_, err := q.db.Exec(ctx, finishTemplateBuild, arg.TotalDiskSizeMb, arg.EnvdVersion, arg.BuildID)
	return err
}
