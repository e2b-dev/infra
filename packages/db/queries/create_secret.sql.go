// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: create_secret.sql

package queries

import (
	"context"
	"time"

	"github.com/google/uuid"
)

const createSecret = `-- name: CreateSecret :one
INSERT INTO "public"."secrets"(
    id,
    team_id,
    label,
    description,
    allowlist
)
VALUES (
    $1,
    $2,
    $3,
    $4,
    $5
) RETURNING id, team_id, label, description, allowlist, created_at
`

type CreateSecretParams struct {
	ID          uuid.UUID
	TeamID      uuid.UUID
	Label       string
	Description string
	Allowlist   []string
}

type CreateSecretRow struct {
	ID          uuid.UUID
	TeamID      uuid.UUID
	Label       string
	Description string
	Allowlist   []string
	CreatedAt   time.Time
}

func (q *Queries) CreateSecret(ctx context.Context, arg CreateSecretParams) (CreateSecretRow, error) {
	row := q.db.QueryRow(ctx, createSecret,
		arg.ID,
		arg.TeamID,
		arg.Label,
		arg.Description,
		arg.Allowlist,
	)
	var i CreateSecretRow
	err := row.Scan(
		&i.ID,
		&i.TeamID,
		&i.Label,
		&i.Description,
		&i.Allowlist,
		&i.CreatedAt,
	)
	return i, err
}
