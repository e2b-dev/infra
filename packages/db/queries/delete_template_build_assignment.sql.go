// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: delete_template_build_assignment.sql

package queries

import (
	"context"

	"github.com/google/uuid"
)

const deleteTemplateTag = `-- name: DeleteTemplateTag :exec
DELETE FROM "public"."env_build_assignments"
WHERE env_id = $1 AND tag = $2::text
`

type DeleteTemplateTagParams struct {
	TemplateID string
	Tag        string
}

// Deletes a tag assignment from a template (env)
func (q *Queries) DeleteTemplateTag(ctx context.Context, arg DeleteTemplateTagParams) error {
	_, err := q.db.Exec(ctx, deleteTemplateTag, arg.TemplateID, arg.Tag)
	return err
}

const deleteTriggerTemplateBuildAssignment = `-- name: DeleteTriggerTemplateBuildAssignment :exec
DELETE FROM "public"."env_build_assignments"
WHERE env_id = $1 AND build_id = $2 AND tag = $3::text AND source = 'trigger'
`

type DeleteTriggerTemplateBuildAssignmentParams struct {
	TemplateID string
	BuildID    uuid.UUID
	Tag        string
}

// Deletes a tag assignment from a template (env)
func (q *Queries) DeleteTriggerTemplateBuildAssignment(ctx context.Context, arg DeleteTriggerTemplateBuildAssignmentParams) error {
	_, err := q.db.Exec(ctx, deleteTriggerTemplateBuildAssignment, arg.TemplateID, arg.BuildID, arg.Tag)
	return err
}
