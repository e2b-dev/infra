// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: validate_build.sql

package queries

import (
	"context"

	"github.com/google/uuid"
)

const validateEnvBuilds = `-- name: ValidateEnvBuilds :one
SELECT at.user_id FROM envs e
JOIN users_teams ut on ut.team_id = e.team_id
JOIN access_tokens at on at.user_id = ut.user_id
WHERE at.access_token_hash = $1
  AND e.id = $2
`

type ValidateEnvBuildsParams struct {
	AccessTokenHash string
	TemplateID      string
}

func (q *Queries) ValidateEnvBuilds(ctx context.Context, arg ValidateEnvBuildsParams) (uuid.UUID, error) {
	row := q.db.QueryRow(ctx, validateEnvBuilds, arg.AccessTokenHash, arg.TemplateID)
	var user_id uuid.UUID
	err := row.Scan(&user_id)
	return user_id, err
}
