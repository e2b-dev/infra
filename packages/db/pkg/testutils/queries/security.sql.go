// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: security.sql

package queries

import (
	"context"
)

const getRowLevelSecurity = `-- name: GetRowLevelSecurity :many
select n.nspname as namespace_name, c.relname as table_name, c.relrowsecurity as row_level_security
from pg_catalog.pg_class c
join pg_catalog.pg_namespace n on c.relnamespace = n.oid
join information_schema.tables t on t.table_name = c.relname and t.table_schema = n.nspname
where t.table_type = 'BASE TABLE'
`

type GetRowLevelSecurityRow struct {
	NamespaceName    string
	TableName        string
	RowLevelSecurity bool
}

func (q *Queries) GetRowLevelSecurity(ctx context.Context) ([]GetRowLevelSecurityRow, error) {
	rows, err := q.db.Query(ctx, getRowLevelSecurity)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetRowLevelSecurityRow
	for rows.Next() {
		var i GetRowLevelSecurityRow
		if err := rows.Scan(&i.NamespaceName, &i.TableName, &i.RowLevelSecurity); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}
