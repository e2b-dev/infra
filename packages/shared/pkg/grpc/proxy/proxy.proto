syntax = "proto3";

package proxy;

import "google/protobuf/empty.proto";

option go_package = "github.com/e2b-dev/infra/packages/shared/pkg/grpc/proxy;proxygrpc";

// AutoResumePolicy describes when a paused sandbox should auto-resume.
enum AutoResumePolicy {
  AUTO_RESUME_POLICY_NULL = 0;
  AUTO_RESUME_POLICY_ANY = 1;
  AUTO_RESUME_POLICY_AUTHED = 2;
}

// Request to resume a paused sandbox.
message SandboxResumeRequest {
  // Sandbox ID to resume.
  string sandbox_id = 1;
  // Optional timeout override in seconds (must be within team limits).
  int32 timeout_seconds = 2;
}

// SandboxService is used by the client-proxy to resume sandboxes.
// Authorization/X-API-Key headers are forwarded via gRPC metadata
// for authed resumes.
service SandboxService {
  rpc ResumeSandbox(SandboxResumeRequest) returns (google.protobuf.Empty);
}
