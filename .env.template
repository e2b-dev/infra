PREFIX="e2b-" # prefix identifier for all resources

# ------------------------------------------- Provider selection -----------------------------------------------------------
# Select infrastructure provider used by Makefile dispatch: gcp | linux
# Defaults to gcp when unset in Makefile
PROVIDER=gcp

# ------------------------------------------- Provider: GCP -----------------------------------------------------------
# your GCP project ID
GCP_PROJECT_ID=
# GCP region where the resources will be deployed, e.g. us-west1
GCP_REGION=
# GCP zone where the resources will be deployed, e.g. us-west1-a
GCP_ZONE=

# prod, staging, dev
TERRAFORM_ENVIRONMENT=
# GCS bucket name
TERRAFORM_STATE_BUCKET=

# This is for the nomad and consul client (all jobs are running on client)
# e.g. n1-standard-8
CLIENT_MACHINE_TYPE=
# e.g. 1
CLIENT_CLUSTER_SIZE=
# Max number of additional instances if the CPU usage is above 60%, e.g. 2
CLIENT_CLUSTER_SIZE_MAX=

# This is the nomad and consul server (only for scheduling and service discovery)
# eg e2-standard-2
SERVER_MACHINE_TYPE=
# e.g. 3
SERVER_CLUSTER_SIZE=

# eg e2-standard-4
API_MACHINE_TYPE=
# e.g. 1
API_CLUSTER_SIZE=

# eg n1-standard-8
BUILD_MACHINE_TYPE=
# e.g. 1
BUILD_CLUSTER_SIZE=

# e.g. e2-standard-4
CLICKHOUSE_MACHINE_TYPE=
# e.g. 2
CLICKHOUSE_CLUSTER_SIZE=

# your domain or subdomain name, eg great-innovations.dev, e2b.great-innovations.dev
DOMAIN_NAME=

 

FILESTORE_CACHE_ENABLED=
# BASIC_HDD for staging+dev, ZONAL for production
FILESTORE_CACHE_TIER=
# 1024 GB for staging+dev, 1024 GB or 10240 GB for production (10240 is different zonal capacity tier)
FILESTORE_CACHE_CAPACITY_GB=


# ------------------------------------------- Provider: Linux -----------------------------------------------------------
# Nomad address
NOMAD_ADDRESS=

# Nomad ACL token
NOMAD_ACL_TOKEN=

# Consul ACL token (optional)
CONSUL_ACL_TOKEN=

# Server configuration JSON
# e.g. [{"host":"192.168.1.2","ssh_user":"root","ssh_private_key_path":"~/.ssh/id_rsa"}]
SERVERS_JSON=

# Client configuration JSON
# e.g. [{"host":"192.168.1.3","ssh_user":"root","ssh_private_key_path":"~/.ssh/id_rsa","node_pool":"default"}]
CLIENTS_JSON=

# Node pools
API_NODE_POOL=default
ORCHESTRATOR_NODE_POOL=default
BUILDER_NODE_POOL=build

# Machine counts
INGRESS_COUNT=1
API_MACHINE_COUNT=1
TEMPLATE_MANAGER_MACHINE_COUNT=1

# Resource limits
API_RESOURCES_CPU_COUNT=0.5
API_RESOURCES_MEMORY_MB=512

# Grafana Configuration
GRAFANA_SERVICE_PORT='{"name":"grafana","port":30008}'
GRAFANA_RESOURCES_MEMORY_MB=512
GRAFANA_RESOURCES_CPU_COUNT=1

# Docker Registry Configuration
DOCKER_IMAGE_PREFIX=
DOCKERHUB_REMOTE_REPOSITORY_URL=
DOCKERHUB_REMOTE_REPOSITORY_PROVIDER=Local

# Artifact URLs
ORCHESTRATOR_ARTIFACT_URL=
TEMPLATE_MANAGER_ARTIFACT_URL=
ENVD_ARTIFACT_URL=

# Artifact SCP Configuration
ENABLE_ARTIFACT_SCP_SERVER=false
ARTIFACT_SCP_HOST=
ARTIFACT_SCP_USER=root
ARTIFACT_SCP_DIR=/opt/artifacts
ARTIFACT_SCP_SSH_KEY=
ARTIFACT_SCP_PORT=22

# NFS Configuration
USE_NFS_SHARE_STORAGE=false
NFS_SERVER_IP=

# Network Policy
ENABLE_NETWORK_POLICY_JOB=false
NETWORK_OPEN_PORTS='["2049/tcp", "111/tcp", "111/udp"]'

# Maintenance & Debugging
ENABLE_NOMAD_JOBS=true
ENABLE_NODES_FC_ARTIFACTS=true
ENABLE_NODES_UNINSTALL=false
UNINSTALL_VERSION=v1
UNINSTALL_CONFIRM_PHRASE=
OTEL_TRACING_PRINT=false

# ------------------------------------------- Optional block (shared) -----------------------------------------------------------
# your Postgres connection string (shared across providers)
# e.g. postgresql://postgres.<username>:<password>.<host>@<your-domain>:<port>/postgres
POSTGRES_CONNECTION_STRING=
# Managed Redis (default: false)
REDIS_MANAGED=false
# Redis URL (host:port)
REDIS_URL=
# Redis Secure Cluster URL (for clustered Redis)
REDIS_SECURE_CLUSTER_URL=
# Template bucket name (if you want to use a different bucket for templates then the default one)
TEMPLATE_BUCKET_NAME=
# Hash seed used for generating sandbox access tokens, not needed if you are not using them
SANDBOX_ACCESS_TOKEN_HASH_SEED=abcdefghijklmnopqrstuvwxyz
# ------------------------------------------- Kernel/Firecracker (Linux only) -----------------------------------------------------------
# Node pools that should download and deploy FC/Kernel artifacts on host.
# Example: FC_ARTIFACT_NODE_POOLS='["api","build"]'  Only these pools will pull artifacts.
FC_ARTIFACT_NODE_POOLS=
# Kernel and Firecracker public artifact sources; override if using private mirror.
# Leave blank to use Terraform defaults, or set explicitly here.
KERNEL_SOURCE_BASE_URL=
FIRECRACKER_SOURCE_BASE_URL=
# Recommended default versions; override as needed.
DEFAULT_KERNEL_VERSION=6.1.0
DEFAULT_FIRECRACKER_VERSION=1.4.0

# Integration tests variables (only for running integration tests locally)
# your domain name, e.g. https://api.great-innovations.dev
TESTS_API_SERVER_URL=
# Host of the orchestrator, e.g. localhost:5008
# If connecting remotely, you might need to bridge the orchestrator connection as it's not publicly available
TESTS_ORCHESTRATOR_HOST=
# Envd proxy, e.g. https://client-proxy.great-innovations.dev
# This can be either session proxy or client proxy, depending on your local setup
TESTS_ENVD_PROXY=
# your sandbox template ID, e.g. base
TESTS_SANDBOX_TEMPLATE_ID=base
# your Team API key
TESTS_E2B_API_KEY=
# your access token
TESTS_E2B_ACCESS_TOKEN=
# your user id
TESTS_SANDBOX_USER_ID=
